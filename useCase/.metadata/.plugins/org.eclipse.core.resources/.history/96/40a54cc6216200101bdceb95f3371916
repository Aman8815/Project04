package com.rays.test;


import java.sql.Timestamp;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import com.rays.Bean.patientBean;
import com.rays.model.patientModel;

public class Patienttest {
	public static void main(String[] args) throws Exception {
		add();
		//update();
	}

	private static void update() throws Exception {
		
		patientBean bean = new patientBean();
		patientModel model = new patientModel();
		bean.setId(1);
		bean.setName("Aman");
		bean.setDateOfVisit(new Timestamp(new Date().getTime()));
		bean.setMobile("6263642541");
		bean.setDisease("normal");
		
		patientBean mbean = model.findbymobile(bean);
		
		if(mbean == null || mbean.getId()==bean.getId()) {
			model.update(bean);
		}
		else {
			System.out.println("Mobile number is all ready exist");
		}
		
		
		
	}

	private static void add() throws Exception {
		
		patientBean bean = new patientBean();
		patientModel model = new patientModel();
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		bean.setName("Arun");
		bean.setDateOfVisit(new Timestamp(new Date().getTime()));
		bean.setMobile("9752085848");
		bean.setDisease("spaine pain");
		
		patientBean mbean = model.findbymobile(bean);
		
		if(mbean == null) {
			model.add(bean);
		}
		else {
			System.out.println("Mobile number is all ready exist");
		}
		
	}

}
